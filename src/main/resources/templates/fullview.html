<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>全景展示</title>
    <style>
        /*html{height:100%}*/
        /*body{height:100%;margin:10px;padding:0px;display:flex}*/
        /*#pan,#container{height:100%;flex:1}*/
        body{
            background-color: #2aabd2;
        }
    </style>
    <script type="text/javascript" src="https://api.map.baidu.com/api?v=3.0&ak=SwNhcnyBMygIOxAhn5q2PmWnE9KQxwnV"></script>
</head>
<body>
<input type="button" style="color: #26c6da;margin-left:20px;border-radius: 10%;background-color:white;height: 40px;width: 60px;" onclick="liyuan()" value="栎苑" />
<input type="button" style="color: #26c6da;margin-left:20px;border-radius: 10%;background-color:white;height: 40px;width: 60px;" onclick="shiyan()" value="实验楼" />
<input type="button" style="color: #26c6da;margin-left:20px;border-radius: 10%;background-color:white;height: 40px;width: 60px;" onclick="zhixing()" value="知行楼" />
<input type="button" style="color: #26c6da;margin-left:20px;border-radius: 10%;background-color:white;height: 40px;width: 60px;" onclick="sanqing()" value="三清园" />
<input type="button" style="color: #26c6da;margin-left:20px;border-radius: 10%;background-color:white;height: 40px;width: 60px;" onclick="jiuhua()" value="九华厅" />
<input type="button" style="color: #26c6da;margin-left:20px;border-radius: 10%;background-color:white;height: 40px;width: 60px;" onclick="qipin()" value="七品居" />
<input type="button" style="color: #26c6da;margin-left:20px;border-radius: 10%;background-color:white;height: 40px;width: 60px;" onclick="yisu()" value="一粟堂" />
<input type="button" style="color: #26c6da;margin-left:20px;border-radius: 10%;background-color:white;height: 40px;width: 60px;" onclick="jiaoxue()" value="教学楼" />
<input type="button" style="color: #26c6da;margin-left:20px;border-radius: 10%;background-color:white;height: 40px;width: 70px;" onclick="cainiao()" value="菜鸟驿站" />
<input type="button" style="color: #26c6da;margin-left:20px;border-radius: 10%;background-color:white;height: 40px;width: 60px;" onclick="tushu()" value="图书馆" />

<div id="pan" style="width:100%;height:600px;float: left;">
    <span id="span"></span>
    <img id="img" src="" alt="全景图片">
    <span id="span2"></span>
</div>

<script src="/js/vendor/jquery-2.1.0.min.js"></script>

<script>



    $(document).ready(function(){tl(114.438619,30.425901)})

    function tl( a, b) {
// 创建点坐标
        var point = new BMap.Point(a,b);
        var pan = document.getElementById("pan");
        var panorama = new BMap.Panorama(pan,{
            navigationControl:true,         //是否显示全景的导航控件，默认为true
            linksControl:true ,             //是否显示道路指示控件。默认为true
            indoorSceneSwitchControl:true,  //是否显示全景室内场景的切换控件，默认为false，仅对室内景生效
            albumsControl:false,            //是否显示相册控件，默认为false
            albumsControlOptions:{          //全景相册控件配置参数
                anchor: BMAP_ANCHOR_BOTTOM_RIGHT,//ControlAnchor, //相册控件的停靠位置
                //BMAP_ANCHOR_TOP_LEFT       控件将定位到地图的左上角
                //BMAP_ANCHOR_TOP_RIGHT	     控件将定位到地图的右上角
                //BMAP_ANCHOR_BOTTOM_LEFT    控件将定位到地图的左下角
                //BMAP_ANCHOR_BOTTOM_RIGHT   控件将定位到地图的右下角
                offset: new BMap.Size(40,40),//相册的偏移量
                maxWidth:"50%",//相册控件的最大宽度，可以设置总宽度百分比(例如50%) 或者像素数字（500）,默认值为100%
                imageHeight:"80px",//相册内图片的高度。默认为80px。（为保证图片比例，只设置高度，宽度自如会拉宽）
            }
        })
        panorama.setPosition(point);//设置标签的经纬度坐标
    }





    function liyuan(){
        tl(114.442086,30.426117);
    }
    function shiyan(){
        tl(114.444166,30.42243);
    }
    function zhixing(){
        tl(114.44439,30.423364);
    }
    function yisu(){
        tl(114.442979,30.426991);
    }
    function sanqing(){
        tl(114.441246,30.426534);
    }
    function jiuhua(){
        tl(114.437271,30.42171);
    }
    function tushu(){
        tl(114.441229,30.423603);
    }
    function qipin(){
        tl(114.436197,30.422239);
    }
    function cainiao(){
        tl(114.4379,30.421876);
    }
    function jiaoxue(){
        tl(114.446409,30.424864);
    }

    // var span = document.getElementById("span");
    // var span2 = document.getElementById("span2");
    // var pan = document.getElementById("pan");
    // var Panor = new BMap.PanoramaService();
    // var myData='';
    // marker.addEventListener("dragend",function (p){
    //     var po = new BMap.Point(p.lng,p.lat);
    //     text(po)
    // })
    // marker.enableDragging();
    // function text(po){
    //     Panor.getPanoramaByLocation(po[100],function(data){
    //         if(data == null){
    //             span.innerHTML = "无数据";
    //         }
    //         var panoramaInfo="";
    //         myData = data;
    //         panoramaInfo +='全景id为：'+data.id+'\n';
    //         panoramaInfo +='坐标为：'+data.position.lng+':'+data.position.lat+'\n';
    //
    //         span.innerHTML = panoramaInfo;
    //         //获取全景静态图片
    //         getImg(data);
    //     });
    //
    // }

    // function getImg(data){
    //     console.log(data);
    //     img.setAttribute("src","https://api.map.baidu.com/panorama/v2?ak=SwNhcnyBMygIOxAhn5q2PmWnE9KQxwnV&width=512&height=256&location=114.438619,30.425901&fov=180")
    //     span2.innerHTML=data.description;
    // }
    // var panorama = map.getPanorama();//获取实例对象
    // panorama.setId(myData.id);  //全景ID
    // panorama.show(); //显示全景

    //根据坐标及半径返回该范围内的全景数据；不设置半径参数时，默认半径为50米；当获取不到数据时，回调函数参数为null。
    //getPanoramaByLocation(point:Point[,radius:number], callback:function(data:PanoramaData))
</script>
</body>
</html>
